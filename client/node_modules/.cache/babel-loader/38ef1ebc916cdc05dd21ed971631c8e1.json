{"ast":null,"code":"var _jsxFileName = \"/Users/ibrahemrayan/Documents/bootcamp/google_book_search/client/src/components/Results/index.js\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\n\nclass Results extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      savedBooks: []\n    };\n\n    this.handleSave = book => {\n      if (this.state.savedBooks.map(book => book._id).includes(book._id)) {\n        API.deleteBook(book._id).then(deletedBook => this.setState({\n          savedBooks: this.state.savedBooks.filter(book => book._id !== deletedBook._id)\n        })).catch(err => console.error(err));\n      } else {\n        API.saveBook(book).then(savedBook => this.setState({\n          savedBooks: this.state.savedBooks.concat([savedBook])\n        })).catch(err => console.error(err));\n      }\n    };\n  }\n\n  componentDidMount() {\n    API.savedBooks().then(savedBooks => this.setState({\n      savedBooks\n    })).catch(err => console.error(err));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }\n    }, !this.props.books.length ? /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }\n    }, \"No Results to Display\") : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 25\n      }\n    }, this.props.books.map(result => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card mb-3\",\n      key: result._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: result.title,\n      className: \"img-fluid\",\n      src: result.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 49\n      }\n    }, result.title, \" by \", result.authors), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 49\n      }\n    }, result.description), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: result.link,\n      className: \"btn badge-pill btn-outline-dark mt-3\",\n      target: \"_blank\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 53\n      }\n    }, \"View\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.handleSave(result),\n      className: \"btn badge-pill btn-outline-warning mt-3 ml-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 53\n      }\n    }, this.state.savedBooks.map(book => book._id).includes(result._id) ? \"Unsave\" : \"Save\")))))))));\n  }\n\n}\n\nexport default Results;","map":{"version":3,"sources":["/Users/ibrahemrayan/Documents/bootcamp/google_book_search/client/src/components/Results/index.js"],"names":["React","Component","API","Results","state","savedBooks","handleSave","book","map","_id","includes","deleteBook","then","deletedBook","setState","filter","catch","err","console","error","saveBook","savedBook","concat","componentDidMount","render","props","books","length","result","title","image","authors","description","link"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\n\nclass Results extends Component {\n    state = {\n        savedBooks : [], \n    }\n\n    componentDidMount() {\n        API.savedBooks()\n        .then(savedBooks => this.setState({savedBooks}))\n        .catch(err => console.error(err));\n    }\n\n    handleSave = book => {\n\n        if (this.state.savedBooks.map(book => book._id).includes(book._id)) {\n            API.deleteBook(book._id)\n                .then(deletedBook => this.setState({ savedBooks: this.state.savedBooks.filter(book => book._id !== deletedBook._id) }))\n                .catch(err => console.error(err));\n        } else {\n            API.saveBook(book)\n                .then(savedBook => this.setState({ savedBooks: this.state.savedBooks.concat([savedBook]) }))\n                .catch(err => console.error(err));\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                {!this.props.books.length ? (\n                    <h1 className=\"text-center\">No Results to Display</h1>\n                ) : (\n                        <div>\n                            {this.props.books.map(result => (\n                                <div className=\"card mb-3\" key={result._id}>\n                                    <div className=\"row\">\n                                        <div className=\"col-md-2\">\n                                            <img alt={result.title} className=\"img-fluid\" src={result.image} />\n                                        </div>\n                                        <div className=\"col-md-10\">\n                                            <div className=\"card-body\">\n                                                <h5 className=\"card-title\">{result.title} by {result.authors}</h5>\n                                                <p className=\"card-text\">{result.description}</p>\n                                                <div>\n                                                    <a href={result.link} className=\"btn badge-pill btn-outline-dark mt-3\" target=\"_blank\" >View</a>\n                                                    <button onClick={() => this.handleSave(result)} className=\"btn badge-pill btn-outline-warning mt-3 ml-3\" >\n                                                        {this.state.savedBooks.map(book => book._id).includes(result._id) ? \"Unsave\" : \"Save\"}\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n            </div>\n        )\n    }\n}\n\nexport default Results;\n\n"]},"metadata":{},"sourceType":"module"}