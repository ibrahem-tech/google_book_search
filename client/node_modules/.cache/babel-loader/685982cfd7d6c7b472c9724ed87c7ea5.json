{"ast":null,"code":"import _defineProperty from\"/Users/ibrahemrayan/Documents/bootcamp/google_book_search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/ibrahemrayan/Documents/bootcamp/google_book_search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ibrahemrayan/Documents/bootcamp/google_book_search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ibrahemrayan/Documents/bootcamp/google_book_search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ibrahemrayan/Documents/bootcamp/google_book_search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Form from\"../components/Form\";import Results from\"../components/Results\";import API from\"../utils/API\";var Search=/*#__PURE__*/function(_React$Component){_inherits(Search,_React$Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={value:\"\",books:[]};_this.makeBook=function(bookData){return{_id:bookData.id,title:bookData.volumeInfo.title,authors:bookData.volumeInfo.authors,description:bookData.volumeInfo.description,image:bookData.volumeInfo.imageLinks.thumbnail,link:bookData.volumeInfo.previewLink};};_this.searchBook=function(query){API.getBook(query).then(function(res){return _this.setState({books:res.data.items.map(function(bookData){return _this.makeBook(bookData);})});}).catch(function(err){return console.error(err);});};_this.handleInputChange=function(event){var name=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){event.preventDefault();_this.searchBook(_this.state.search);};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){this.searchBook();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{search:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Results\"),/*#__PURE__*/React.createElement(Results,{books:this.state.books})));}}]);return Search;}(React.Component);export default Search;","map":{"version":3,"sources":["/Users/ibrahemrayan/Documents/bootcamp/google_book_search/client/src/pages/Search.js"],"names":["React","Form","Results","API","Search","state","value","books","makeBook","bookData","_id","id","title","volumeInfo","authors","description","image","imageLinks","thumbnail","link","previewLink","searchBook","query","getBook","then","res","setState","data","items","map","catch","err","console","error","handleInputChange","event","name","target","handleFormSubmit","preventDefault","search","Component"],"mappings":"q4BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,C,GAEMC,CAAAA,M,uUACFC,K,CAAQ,CACJC,KAAK,CAAE,EADH,CAEJC,KAAK,CAAE,EAFH,C,OASRC,Q,CAAW,SAAAC,QAAQ,CAAI,CACnB,MAAO,CACHC,GAAG,CAAED,QAAQ,CAACE,EADX,CAEHC,KAAK,CAAEH,QAAQ,CAACI,UAAT,CAAoBD,KAFxB,CAGHE,OAAO,CAAEL,QAAQ,CAACI,UAAT,CAAoBC,OAH1B,CAIHC,WAAW,CAAEN,QAAQ,CAACI,UAAT,CAAoBE,WAJ9B,CAKHC,KAAK,CAAEP,QAAQ,CAACI,UAAT,CAAoBI,UAApB,CAA+BC,SALnC,CAMHC,IAAI,CAAEV,QAAQ,CAACI,UAAT,CAAoBO,WANvB,CAAP,CAQH,C,OAEDC,U,CAAa,SAAAC,KAAK,CAAI,CAClBnB,GAAG,CAACoB,OAAJ,CAAYD,KAAZ,EACKE,IADL,CACU,SAAAC,GAAG,QAAI,OAAKC,QAAL,CAAc,CAAEnB,KAAK,CAAEkB,GAAG,CAACE,IAAJ,CAASC,KAAT,CAAeC,GAAf,CAAmB,SAAApB,QAAQ,QAAI,OAAKD,QAAL,CAAcC,QAAd,CAAJ,EAA3B,CAAT,CAAd,CAAJ,EADb,EAEKqB,KAFL,CAEW,SAAAC,GAAG,QAAIC,CAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAJ,EAFd,EAGH,C,OAEDG,iB,CAAoB,SAAAC,KAAK,CAAI,CACzB,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B,CACA,GAAM9B,CAAAA,KAAK,CAAG6B,KAAK,CAACE,MAAN,CAAa/B,KAA3B,CACA,MAAKoB,QAAL,oBACKU,IADL,CACY9B,KADZ,GAGH,C,OAEDgC,gB,CAAmB,SAAAH,KAAK,CAAI,CACxBA,KAAK,CAACI,cAAN,GACA,MAAKlB,UAAL,CAAgB,MAAKhB,KAAL,CAAWmC,MAA3B,EACH,C,+FAhCmB,CAChB,KAAKnB,UAAL,GACH,C,uCAgCQ,CACL,mBACI,4CACI,oBAAC,IAAD,EACI,MAAM,CAAE,KAAKhB,KAAL,CAAWmC,MADvB,CAEI,iBAAiB,CAAE,KAAKN,iBAF5B,CAGI,gBAAgB,CAAE,KAAKI,gBAH3B,EADJ,cAMI,2BAAK,SAAS,CAAC,WAAf,eACI,wCADJ,cAEI,oBAAC,OAAD,EAAS,KAAK,CAAE,KAAKjC,KAAL,CAAWE,KAA3B,EAFJ,CANJ,CADJ,CAaH,C,oBAtDgBP,KAAK,CAACyC,S,EAyD3B,cAAerC,CAAAA,MAAf","sourcesContent":["import React from \"react\";\nimport Form from \"../components/Form\";\nimport Results from \"../components/Results\";\nimport API from \"../utils/API\";\n\nclass Search extends React.Component {\n    state = {\n        value: \"\",\n        books: []\n    };\n\n    componentDidMount() {\n        this.searchBook();\n    }\n\n    makeBook = bookData => {\n        return {\n            _id: bookData.id,\n            title: bookData.volumeInfo.title,\n            authors: bookData.volumeInfo.authors,\n            description: bookData.volumeInfo.description,\n            image: bookData.volumeInfo.imageLinks.thumbnail,\n            link: bookData.volumeInfo.previewLink\n        }\n    }\n\n    searchBook = query => {\n        API.getBook(query)\n            .then(res => this.setState({ books: res.data.items.map(bookData => this.makeBook(bookData)) }))\n            .catch(err => console.error(err));\n    };\n\n    handleInputChange = event => {\n        const name = event.target.name;\n        const value = event.target.value;\n        this.setState({\n            [name]: value\n        });\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        this.searchBook(this.state.search);\n    };\n\n    render() {\n        return (\n            <div>\n                <Form\n                    search={this.state.search}\n                    handleInputChange={this.handleInputChange}\n                    handleFormSubmit={this.handleFormSubmit}\n                />\n                <div className=\"container\">\n                    <h2>Results</h2>\n                    <Results books={this.state.books} />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}